(this["webpackJsonpmy-react0app"]=this["webpackJsonpmy-react0app"]||[]).push([[0],{20:function(e,t,n){e.exports=n(56)},46:function(e,t,n){e.exports=n.p+"static/media/connect.e568bf9f.png"},56:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(18),r=n.n(o),l=n(2),u=n.n(l),i=n(4),s=n(1),p=n(3),d=n.n(p),f=(n(46),new d.a({key:"5f92eacd-435e-451c-9d67-27f94bcc4096"}),new d.a({key:"5f92eacd-435e-451c-9d67-27f94bcc4096"}),n(6),n(47),n(48),n(19)),m=n.n(f),g=null,b=c.a.memo((function(e){console.log("start Editor");var t=e.text;return c.a.createElement("div",{className:"bg-gray-900 flex-auto"},c.a.createElement("h2",null,"Share Code"),c.a.createElement(m.a,{editorProps:{$blockScrolling:"true"},fontSize:"16px",height:"500px",highlightActiveLine:!1,mode:"c_cpp",name:"UNIQUE_ID_OF_DIV",onChange:function(){var t=g.getValue();if(t!==e.text){var n=e.dataConnection;console.log(n),n.send(t),console.log("not skipppppppppp")}else console.log("skipppppppppppppp")},onLoad:function(e){g=e},showPrintMargin:!1,tabSize:4,theme:"chaos",value:t,width:"100%",wrapEnabed:!1}))})),h=new d.a({key:"5f92eacd-435e-451c-9d67-27f94bcc4096"}),v=function(){console.log("start VideoChat\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc\u30fc");var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),l=Object(s.a)(r,2),p=l[0],d=l[1],f=Object(a.useState)(""),m=Object(s.a)(f,2),g=m[0],v=m[1],E=Object(a.useState)(""),O=Object(s.a)(E,2),j=O[0],y=O[1],w=Object(a.useRef)(null),x=Object(a.useRef)(null);h.on("open",(function(){console.log("open"),o(h.id),null!==w.current&&(console.log("get localStream"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){w.current.srcObject=e})))}));return h.on("connection",(function(e){console.log("peer.on conection"),console.log("setConn"),v(e),e.on("data",(function(e){console.log(e),y(e)}))})),h.on("call",(function(e){null!==w.current&&(e.answer(w.current.srcObject),e.on("stream",function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.current.srcObject=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{display:"flex",height:"300px"}},console.log("start return "),console.log("dataConnection:",g),c.a.createElement("div",null,c.a.createElement("video",{width:"300px",autoPlay:!0,muted:!0,playsInline:!0,ref:w}),c.a.createElement("div",null,n),c.a.createElement("input",{onChange:function(e){return d(e.target.value)}}),c.a.createElement("button",{onClick:function(){console.log("make Call"),h.call(p,w.current.srcObject).on("stream",function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.current.srcObject=t,e.next=3,x.current.play().catch(console.error);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("makeConnect");var e=h.connect(p);v(e),e.on("data",(function(e){console.log(e),y(e)}))}},"\u767a\u4fe1")),c.a.createElement("div",null,c.a.createElement("video",{width:"300px",autoPlay:!0,muted:!0,playsInline:!0,ref:x}))),c.a.createElement(b,{text:j,dataConnection:g}))},E=function(){return console.log("start App"),c.a.createElement("div",null,c.a.createElement(v,null))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.e4ab2ca4.chunk.js.map